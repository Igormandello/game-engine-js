!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports={UP:{keyCode:38,key:"ArrowUp"},DOWN:{keyCode:40,key:"ArrowDown"},LEFT:{keyCode:37,key:"ArrowLeft"},RIGHT:{keyCode:39,key:"ArrowRight"},W:{keyCode:87,key:"W"},A:{keyCode:65,key:"A"},S:{keyCode:83,key:"S"},D:{keyCode:68,key:"D"},ENTER:{keyCode:13,key:"Enter"},SPACE:{keyCode:32,key:" "}}},function(e,t,n){var i=n(2),o=n(3),r=n(0),s=n(4);e.exports={GameEngine:i,Input:o,Keys:r,Resources:s}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var i=function(){function e(t,n,i){var o=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._ratio=16/9,this._fps=60,this._updateList=[],this._animationList=[],this._framesToNextAnimation=-1,this._lastAnimationFrame=0,this._frameCount=0,n&&"number"==typeof n&&(this._ratio=n),i&&"number"==typeof i&&(this._fps=i),this._msGoal=1e3/this._fps,"undefined"!=typeof window){if(60==i&&(this._animationFrame=window.requestAnimationFrame.bind(window)),!(t||t instanceof HTMLElement))throw"Canvas must be a HTML Element";Object.assign(document.body.style,{margin:0,height:"100vh",overflow:"hidden",display:"flex",justifyContent:"center"});var r=document.body.clientWidth,s=document.body.clientHeight;t.width=r,t.height=s,t.style.alignSelf="center",r*(1/this._ratio)>s?t.width=s*this._ratio:t.height=r*(1/this._ratio),this._canvas=t,this._context=t.getContext("2d")}"undefined"!=typeof window&&60==i||(this._animationFrame=function(e){return setTimeout(e,o._msGoal)})}var t,i,o;return t=e,(i=[{key:"addUpdateComponent",value:function(e,t){if(e&&"function"==typeof e||(e=function(){}),t){var n=this._updateList.findIndex(function(e){return e.label===t});n>=0?this._updateList[n].fn=e:this._updateList.push({label:t,fn:e,active:!0})}}},{key:"removeUpdateComponent",value:function(e){var t=this._updateList.findIndex(function(t){return t.label===e});t>=0&&this._updateList.splice(t,1)}},{key:"toggleUpdateComponent",value:function(e){var t=this._updateList.findIndex(function(t){return t.label===e});t>=0&&(this._updateList[t].active=!this._updateList[t].active)}},{key:"addAnimationComponent",value:function(e,t,n){if(e&&"function"==typeof e||(e=function(){}),n){var i=this._animationList.findIndex(function(e){return e.label===n});i>=0?(this._animationList[i].fn=e,this._animationList[i].frames=t,this._animationList[i].remainingToAnimation=t):this._animationList.push({label:n,fn:e,frames:t,remainingToAnimation:t,active:!0}),(t<this._framesToNextAnimation||this._framesToNextAnimation<0)&&(this._framesToNextAnimation=t)}}},{key:"removeAnimationComponent",value:function(e){var t=this._animationList.findIndex(function(t){return t.label===e});t>=0&&this._animationList.splice(t,1),0==this._animationList.length&&(this._framesToNextAnimation=-1)}},{key:"toggleAnimationComponent",value:function(e){var t=this._animationList.findIndex(function(t){return t.label===e});t>=0&&(this._animationList[t].active=!this._animationList[t].active,this._animationList[t].remainingToAnimation=this._animationList[t].frames,this._animationList[t].active&&(frames<this._framesToNextAnimation||this._framesToNextAnimation<0)&&(this._framesToNextAnimation=this._animationList[t].frames)),this._animationList.some(function(e){return e.active})||(this._framesToNextAnimation=-1)}},{key:"start",value:function(){return!(!this._animationFrame||"function"!=typeof this._animationFrame)&&(this._running||(this._running=!0,this._lastTime=Date.now(),this._frameCount=0,"undefined"==typeof window||60!=this._fps?this._update():this._animationFrame(this._update.bind(this))),!0)}},{key:"_update",value:function(e){var t=this;this._frameCount++,this._animationUpdate(),e||(e=Date.now());var n=e-this._lastTime;this._lastTime=e;var i=1/(this._msGoal/n);this._updateList.forEach(function(e){e.active&&e.fn(t._context,i,t._frameCount)}),this._stop?(this._running=!1,this._stop=!1):this._animationFrame(this._update.bind(this))}},{key:"_animationUpdate",value:function(){if(-1!=this._framesToNextAnimation&&(this._framesToNextAnimation>0&&this._framesToNextAnimation--,0==this._framesToNextAnimation)){var e=this._frameCount-this._lastAnimationFrame;this._lastAnimationFrame=this._frameCount;var t=-1;this._animationList.forEach(function(n,i,o){n.active&&(o[i].remainingToAnimation-=e,0==o[i].remainingToAnimation&&(o[i].remainingToAnimation=o[i].frames,o[i].fn()),(o[i].remainingToAnimation<t||t<0)&&(t=o[i].remainingToAnimation))}),this._framesToNextAnimation=t}}},{key:"stop",value:function(){this._running&&(this._stop=!0)}},{key:"ratio",get:function(){return this._ratio}},{key:"fps",get:function(){return this._fps}},{key:"updateListLength",get:function(){return this._updateList.length}},{key:"activeUpdateComponents",get:function(){return this._updateList.reduce(function(e,t){return t.active&&e.push(t.label),e},[])}},{key:"canvas",get:function(){return this._canvas}}])&&n(t.prototype,i),o&&n(t,o),e}();e.exports=i},function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=n(0),r=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pressedKeys=[],this._keyCallback=function(){return!0},!t)throw"The callback function is required";if("function"!=typeof t)throw"The callback parameter must be a function";this._keyCallback=t,"undefined"!=typeof window&&(window.addEventListener("keydown",this._onKeyDown.bind(this)),window.addEventListener("keyup",this._onKeyUp.bind(this)),window.addEventListener("blur",this._clearKeys.bind(this)))}var t,n,r;return t=e,(n=[{key:"isPressed",value:function(e){return"number"==typeof e?this._pressedKeys.some(function(t){return t.keyCode==e}):"string"==typeof e?this._pressedKeys.some(function(t){return t.key==e.toUpperCase()}):void 0}},{key:"_onKeyDown",value:function(e){this._pressedKeys.some(function(t){return t.keyCode===e.keyCode})||(this._pressedKeys.push({keyCode:e.keyCode,key:e.key.toUpperCase()}),this._keyCallback(Object.assign({type:"keydown"},e)))}},{key:"_onKeyUp",value:function(e){var t=this._pressedKeys.findIndex(function(t){return t.keyCode===e.keyCode});t>=0&&this._pressedKeys.splice(t,1),this._keyCallback(Object.assign({type:"keyup"},e))}},{key:"_clearKeys",value:function(){this._pressedKeys=[]}},{key:"pressedKeys",get:function(){return this._pressedKeys.map(function(e){return e.key})}},{key:"axis",get:function(){var e=0,t=0;return this._pressedKeys.some(function(e){return e.keyCode===o.A.keyCode||e.keyCode===o.LEFT.keyCode})?e=-1:this._pressedKeys.some(function(e){return e.keyCode===o.D.keyCode||e.keyCode===o.RIGHT.keyCode})&&(e=1),this._pressedKeys.some(function(e){return e.keyCode===o.W.keyCode||e.keyCode===o.UP.keyCode})?t=-1:this._pressedKeys.some(function(e){return e.keyCode===o.S.keyCode||e.keyCode===o.DOWN.keyCode})&&(t=1),{horizontal:e,vertical:t}}}])&&i(t.prototype,n),r&&i(t,r),e}();e.exports=r},function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=n(5),r=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n.length,s=function(){--r<=0&&i.onload&&"function"==typeof i.onload&&i.onload()};0!=r?(this._images={},n.forEach(function(e){var n=new Image;n.onload=s,n.src=o.join(t,e),i._images[e]=n})):s()}var t,n,r;return t=e,(n=[{key:"images",get:function(){return this._images}}])&&i(t.prototype,n),r&&i(t,r),e}();e.exports=r},function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var o=e[i];"."===o?e.splice(i,1):".."===o?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};function r(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,i="/"===s.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),function(e){return!!e}),!i).join("/"))||"."},t.normalize=function(e){var i=t.isAbsolute(e),o="/"===s(e,-1);return(e=n(r(e.split("/"),function(e){return!!e}),!i).join("/"))||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=i(e.split("/")),r=i(n.split("/")),s=Math.min(o.length,r.length),a=s,u=0;u<s;u++)if(o[u]!==r[u]){a=u;break}var f=[];for(u=a;u<o.length;u++)f.push("..");return(f=f.concat(r.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(6))},function(e,t){var n,i,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var u,f=[],c=!1,l=-1;function h(){c&&u&&(c=!1,u.length?f=u.concat(f):l=-1,f.length&&m())}function m(){if(!c){var e=a(h);c=!0;for(var t=f.length;t;){for(u=f,f=[];++l<t;)u&&u[l].run();l=-1,t=f.length}u=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new d(e,t)),1!==f.length||c||a(m)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}])});
//# sourceMappingURL=index.js.map