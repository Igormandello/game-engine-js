!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports={UP:{keycode:38,key:"ArrowUp"},DOWN:{keycode:40,key:"ArrowDown"},LEFT:{keycode:37,key:"ArrowLeft"},RIGHT:{keycode:39,key:"ArrowRight"},W:{keycode:87,key:"W"},A:{keycode:65,key:"A"},S:{keycode:83,key:"S"},D:{keycode:68,key:"D"},ENTER:{keycode:13,key:"Enter"},SPACE:{keycode:32,key:" "}}},function(e,t,n){var i=n(2),o=n(3),r=n(0);e.exports={GameEngine:i,Input:o,Keys:r}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var i=function(){function e(t,n,i){var o=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._ratio=16/9,this._fps=60,this._updateList=[],this._frameCount=0,n&&"number"==typeof n&&(this._ratio=n),i&&"number"==typeof i&&(this._fps=i),this._msGoal=1e3/this._fps,"undefined"!=typeof window){if(60==i&&(this._animationFrame=window.requestAnimationFrame.bind(window)),!(t||t instanceof HTMLElement))throw"Canvas must be a HTML Element";var r=document.body.clientWidth,s=document.body.clientHeight;t.width=r,t.height=s,r*(1/this._ratio)>s?t.width=s*this._ratio:t.height=r*(1/this._ratio),this._canvas=t,this._context=t.getContext("2d")}"undefined"!=typeof window&&60==i||(this._animationFrame=function(e){return setTimeout(e,o._msGoal)})}var t,i,o;return t=e,(i=[{key:"addUpdateComponent",value:function(e,t){if(e&&"function"==typeof e||(e=function(){}),t){var n=this._updateList.findIndex(function(e){return e.label===t});n>=0?this._updateList[n].fn=e:this._updateList.push({label:t,fn:e,active:!0})}}},{key:"removeUpdateComponent",value:function(e){var t=this._updateList.findIndex(function(t){return t.label===e});t>=0&&this._updateList.splice(t,1)}},{key:"toggleUpdateComponent",value:function(e){var t=this._updateList.findIndex(function(t){return t.label===e});t>=0&&(this._updateList[t].active=!this._updateList[t].active)}},{key:"start",value:function(){return!(!this._animationFrame||"function"!=typeof this._animationFrame)&&(this._running||(this._running=!0,this._lastTime=Date.now(),this._frameCount=0,this._animationFrame(this._update.bind(this))),!0)}},{key:"_update",value:function(e){var t=this;this._frameCount++,e||(e=Date.now());var n=e-this._lastTime;this._lastTime=e;var i=1/(this._msGoal/n);this._updateList.forEach(function(e){e.active&&e.fn(t._context,i,t._frameCount)}),this._stop?(this._running=!1,this._stop=!1):this._animationFrame(this._update.bind(this))}},{key:"stop",value:function(){this._running&&(this._stop=!0)}},{key:"ratio",get:function(){return this._ratio}},{key:"fps",get:function(){return this._fps}},{key:"updateListLength",get:function(){return this._updateList.length}},{key:"activeUpdateComponents",get:function(){return this._updateList.reduce(function(e,t){return t.active&&e.push(t.label),e},[])}},{key:"canvas",get:function(){return this._canvas}}])&&n(t.prototype,i),o&&n(t,o),e}();e.exports=i},function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=n(0),r=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pressedKeys=[],this._keyCallback=function(){return!0},!t)throw"The callback function is required";if("function"!=typeof t)throw"The callback parameter must be a function";this._keyCallback=t,"undefined"!=typeof window&&(window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp))}var t,n,r;return t=e,(n=[{key:"isPressed",value:function(e){return"number"==typeof e?this._pressedKeys.some(function(t){return t.keycode==e}):"string"==typeof e?this._pressedKeys.some(function(t){return t.key==e.toUpperCase()}):void 0}},{key:"_onKeyDown",value:function(e){this._pressedKeys.some(function(t){return t.keycode===e.keycode})||(this._pressedKeys.push({keycode:e.keycode,key:e.key.toUpperCase()}),this._keyCallback(Object.assign({type:"keydown"},e)))}},{key:"_onKeyUp",value:function(e){var t=this._pressedKeys.findIndex(function(t){return t.keycode===e.keycode});t>=0&&this._pressedKeys.splice(t,1),this._keyCallback(Object.assign({type:"keyup"},e))}},{key:"pressedKeys",get:function(){return this._pressedKeys.map(function(e){return e.key})}},{key:"axis",get:function(){var e=0,t=0;return this._pressedKeys.some(function(e){return e.keycode===o.A.keycode||e.keycode===o.LEFT.keycode})?e=-1:this._pressedKeys.some(function(e){return e.keycode===o.D.keycode||e.keycode===o.RIGHT.keycode})&&(e=1),this._pressedKeys.some(function(e){return e.keycode===o.W.keycode||e.keycode===o.UP.keycode})?t=-1:this._pressedKeys.some(function(e){return e.keycode===o.S.keycode||e.keycode===o.DOWN.keycode})&&(t=1),{horizontal:e,vertical:t}}}])&&i(t.prototype,n),r&&i(t,r),e}();e.exports=r}])});
//# sourceMappingURL=index.js.map