!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){t.exports={UP:{keyCode:38,key:"ArrowUp"},DOWN:{keyCode:40,key:"ArrowDown"},LEFT:{keyCode:37,key:"ArrowLeft"},RIGHT:{keyCode:39,key:"ArrowRight"},W:{keyCode:87,key:"W"},A:{keyCode:65,key:"A"},S:{keyCode:83,key:"S"},D:{keyCode:68,key:"D"},ENTER:{keyCode:13,key:"Enter"},SPACE:{keyCode:32,key:" "}}},function(t,e,n){var i=n(2),o=n(3),r=n(0),s=n(4);t.exports={GameEngine:i,Input:o,Keys:r,Resources:s}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(e){var i=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._updateList=[],this._animationList=[],this._framesToNextAnimation=-1,this._lastAnimationFrame=0,this._frameCount=0,this._options={ratio:16/9,fps:60},e&&"object"===n(e)&&(e.ratio&&"number"!=typeof e.ratio&&delete e.ratio,e.fps&&"number"!=typeof e.fps&&delete e.fps,e.canvas&&!e.canvas instanceof HTMLElement&&delete e.canvas),Object.assign(this._options,e),this._msGoal=1e3/this._options.fps,"undefined"!=typeof window&&"undefined"!=typeof document){60==this._options.fps&&(this._animationFrame=window.requestAnimationFrame.bind(window)),this._options.canvas||(this._options.canvas=document.body.appendChild(document.createElement("canvas"))),Object.assign(document.body.style,{margin:0,height:"100vh",overflow:"hidden",display:"flex",justifyContent:"center"});var o=document.body.clientWidth,r=document.body.clientHeight,s=this._options.canvas;s.width=o,s.height=r,s.style.alignSelf="center",o*(1/this._options.ratio)>r?s.width=r*this._options.ratio:s.height=o*(1/this._options.ratio),this._context=s.getContext("2d")}"undefined"!=typeof window&&60==targetFPS||(this._animationFrame=function(t){return setTimeout(t,i._msGoal)})}var e,o,r;return e=t,(o=[{key:"addUpdateComponent",value:function(t,e){if(t&&"function"==typeof t||(t=function(){}),e){var n=this._updateList.findIndex(function(t){return t.label===e});n>=0?this._updateList[n].fn=t:this._updateList.push({label:e,fn:t,active:!0})}}},{key:"removeUpdateComponent",value:function(t){var e=this._updateList.findIndex(function(e){return e.label===t});e>=0&&this._updateList.splice(e,1)}},{key:"toggleUpdateComponent",value:function(t){var e=this._updateList.findIndex(function(e){return e.label===t});e>=0&&(this._updateList[e].active=!this._updateList[e].active)}},{key:"addAnimationComponent",value:function(t,e,n){if(t&&"function"==typeof t||(t=function(){}),n){var i=this._animationList.findIndex(function(t){return t.label===n});i>=0?(this._animationList[i].fn=t,this._animationList[i].frames=e,this._animationList[i].remainingToAnimation=e):this._animationList.push({label:n,fn:t,frames:e,remainingToAnimation:e,active:!0}),(e<this._framesToNextAnimation||this._framesToNextAnimation<0)&&(this._framesToNextAnimation=e)}}},{key:"removeAnimationComponent",value:function(t){var e=this._animationList.findIndex(function(e){return e.label===t});e>=0&&this._animationList.splice(e,1),0==this._animationList.length&&(this._framesToNextAnimation=-1)}},{key:"toggleAnimationComponent",value:function(t){var e=this._animationList.findIndex(function(e){return e.label===t});e>=0&&(this._animationList[e].active=!this._animationList[e].active,this._animationList[e].remainingToAnimation=this._animationList[e].frames,this._animationList[e].active&&(frames<this._framesToNextAnimation||this._framesToNextAnimation<0)&&(this._framesToNextAnimation=this._animationList[e].frames)),this._animationList.some(function(t){return t.active})||(this._framesToNextAnimation=-1)}},{key:"start",value:function(){return!(!this._animationFrame||"function"!=typeof this._animationFrame)&&(this._running||(this._running=!0,this._lastTime=Date.now(),this._frameCount=0,"undefined"==typeof window||60!=this._fps?this._update():this._animationFrame(this._update.bind(this))),!0)}},{key:"_update",value:function(t){var e=this;this._frameCount++,this._animationUpdate(),t||(t=Date.now());var n=t-this._lastTime;this._lastTime=t;var i=1/(this._msGoal/n);this._updateList.forEach(function(t){t.active&&t.fn(e._context,i,e._frameCount)}),this._stop?(this._running=!1,this._stop=!1):this._animationFrame(this._update.bind(this))}},{key:"_animationUpdate",value:function(){if(-1!=this._framesToNextAnimation&&(this._framesToNextAnimation>0&&this._framesToNextAnimation--,0==this._framesToNextAnimation)){var t=this._frameCount-this._lastAnimationFrame;this._lastAnimationFrame=this._frameCount;var e=-1;this._animationList.forEach(function(n,i,o){n.active&&(o[i].remainingToAnimation-=t,0==o[i].remainingToAnimation&&(o[i].remainingToAnimation=o[i].frames,o[i].fn()),(o[i].remainingToAnimation<e||e<0)&&(e=o[i].remainingToAnimation))}),this._framesToNextAnimation=e}}},{key:"stop",value:function(){this._running&&(this._stop=!0)}},{key:"ratio",get:function(){return this._options.ratio}},{key:"fps",get:function(){return this._options.fps}},{key:"updateListLength",get:function(){return this._updateList.length}},{key:"activeUpdateComponents",get:function(){return this._updateList.reduce(function(t,e){return e.active&&t.push(e.label),t},[])}},{key:"canvas",get:function(){return this._options.canvas}}])&&i(e.prototype,o),r&&i(e,r),t}();t.exports=o},function(t,e,n){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=n(0),r=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._pressedKeys=[],this._keyCallback=function(){return!0},!e)throw"The callback function is required";if("function"!=typeof e)throw"The callback parameter must be a function";this._keyCallback=e,"undefined"!=typeof window&&(window.addEventListener("keydown",this._onKeyDown.bind(this)),window.addEventListener("keyup",this._onKeyUp.bind(this)),window.addEventListener("blur",this._clearKeys.bind(this)))}var e,n,r;return e=t,(n=[{key:"isPressed",value:function(t){return"number"==typeof t?this._pressedKeys.some(function(e){return e.keyCode==t}):"string"==typeof t?this._pressedKeys.some(function(e){return e.key==t.toUpperCase()}):void 0}},{key:"_onKeyDown",value:function(t){this._pressedKeys.some(function(e){return e.keyCode===t.keyCode})||(this._pressedKeys.push({keyCode:t.keyCode,key:t.key.toUpperCase()}),this._keyCallback(Object.assign({type:"keydown"},t)))}},{key:"_onKeyUp",value:function(t){var e=this._pressedKeys.findIndex(function(e){return e.keyCode===t.keyCode});e>=0&&this._pressedKeys.splice(e,1),this._keyCallback(Object.assign({type:"keyup"},t))}},{key:"_clearKeys",value:function(){this._pressedKeys=[]}},{key:"pressedKeys",get:function(){return this._pressedKeys.map(function(t){return t.key})}},{key:"axis",get:function(){var t=0,e=0;return this._pressedKeys.some(function(t){return t.keyCode===o.A.keyCode||t.keyCode===o.LEFT.keyCode})?t=-1:this._pressedKeys.some(function(t){return t.keyCode===o.D.keyCode||t.keyCode===o.RIGHT.keyCode})&&(t=1),this._pressedKeys.some(function(t){return t.keyCode===o.W.keyCode||t.keyCode===o.UP.keyCode})?e=-1:this._pressedKeys.some(function(t){return t.keyCode===o.S.keyCode||t.keyCode===o.DOWN.keyCode})&&(e=1),{horizontal:t,vertical:e}}}])&&i(e.prototype,n),r&&i(e,r),t}();t.exports=r},function(t,e,n){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=n(5),r=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=n.length,s=function(){--r<=0&&i.onload&&"function"==typeof i.onload&&i.onload()};0!=r?(this._images={},n.forEach(function(t){var n=new Image;n.onload=s,n.src=o.join(e,t),i._images[t]=n})):s()}var e,n,r;return e=t,(n=[{key:"images",get:function(){return this._images}}])&&i(e.prototype,n),r&&i(e,r),t}();t.exports=r},function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var o=t[i];"."===o?t.splice(i,1):".."===o?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};function r(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,i="/"===s.charAt(0))}return(i?"/":"")+(e=n(r(e.split("/"),function(t){return!!t}),!i).join("/"))||"."},e.normalize=function(t){var i=e.isAbsolute(t),o="/"===s(t,-1);return(t=n(r(t.split("/"),function(t){return!!t}),!i).join("/"))||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var o=i(t.split("/")),r=i(n.split("/")),s=Math.min(o.length,r.length),a=s,u=0;u<s;u++)if(o[u]!==r[u]){a=u;break}var f=[];for(u=a;u<o.length;u++)f.push("..");return(f=f.concat(r.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(6))},function(t,e){var n,i,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,f=[],c=!1,l=-1;function h(){c&&u&&(c=!1,u.length?f=u.concat(f):l=-1,f.length&&m())}function m(){if(!c){var t=a(h);c=!0;for(var e=f.length;e;){for(u=f,f=[];++l<e;)u&&u[l].run();l=-1,e=f.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new d(t,e)),1!==f.length||c||a(m)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}])});
//# sourceMappingURL=index.js.map